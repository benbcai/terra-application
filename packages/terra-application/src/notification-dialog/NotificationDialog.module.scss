@import '~terra-mixins/lib/Mixins';
@import '~terra-breakpoints/lib/media-queries';

// Themes
@import './clinical-lowlight-theme/NotificationDialog.module';
@import './orion-fusion-theme/NotificationDialog.module';

:local {
  .presentation-container {
    height: 100%;
    position: relative;
    width: 100%;
  }

  .overlay {
    background-color: var(--terra-application-notification-dialog-overlay-background-color, rgba(0, 0, 0, 0.4));
    background-image: var(--terra-application-notification-dialog-overlay-background-image);
    bottom: 0;
    color: var(--terra-application-notification-dialog-overlay-foreground-color);
    left: 0;
    opacity: var(--terra-application-notification-dialog-overlay-opacity);
    position: absolute;
    right: 0;
    top: 0;
    z-index: 0;
  }

  .notification-dialog {
    background: var(--terra-application-notification-dialog-background, #fff);
    border: var(--terra-application-notification-dialog-border, none);
    border-radius: var(--terra-application-notification-dialog-border-radius, 3px);
    box-shadow: var(--terra-application-notification-dialog-box-shadow, 0 3px 7px rgba(0, 0, 0, 0.3));
    color: var(--terra-application-notification-dialog-color, inherit);
    display: block;
    left: 50%;
    max-height: calc(100% - 2 * var(--terra-application-notification-dialog-vertical-inset, 10px));
    max-width: calc(100% - 2 * var(--terra-application-notification-dialog-horizontal-inset, 10px));
    outline: none;
    overflow: hidden;
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);

    // This will ensure that by default, the notification dialog sizes to the viewport (minus the insets).
    width: calc(100% - 2 * var(--terra-application-notification-dialog-small-horizontal-inset, 17px));
    z-index: 1;
    
    // This will ensure that above the small breakpoint, a max-width is enforced
    @include terra-mq-small-up {
      max-width: var(--terra-application-notification-dialog-max-width, 500px);
    }
  }

  // This flex container is needed for IE 10 / IE 11 to render correctly
  .notification-dialog-inner-wrapper {
    display: flex;
    flex-direction: row;
    max-height: 93vh;
  }

  .notification-dialog-container {
    display: flex;
    flex-direction: column;
    max-height: inherit; // `inherit` value needed for IE10 to scroll modal-body when overflowed
    outline: none;
    width: 100%; // Needed for IE to wrap content correctly in flexbox
  }
  
  .floating-header-background {
    height: var(--terra-application-notification-dialog-floating-background-height, 5.78571rem);
    position: absolute;
    width: 100%;
    z-index: -1;
  }
  
  .hazard-high {
    background-image: var(--terra-application-notification-dialog-hazard-high-background-image, linear-gradient(to bottom, #ffdad9, #fff));
    border-top: var(--terra-application-notification-dialog-hazard-high-border-top, 7px solid #ea2f2f);
  }

  .hazard-medium {
    background-image: var(--terra-application-notification-dialog-hazard-medium-background-image, linear-gradient(to bottom, #fff3ce, #fff));
    border-top: var(--terra-application-notification-dialog-hazard-medium-border-top, 7px solid #ffc20a);
  }

  .hazard-low {
    background-image: var(--terra-application-notification-dialog-hazard-low-background-image, linear-gradient(to bottom, #e4e2e2, #fff));
    border-top: var(--terra-application-notification-dialog-hazard-low-border-top, 7px solid #c8cacb);
  }

  .error {
    background-image: var(--terra-application-notification-dialog-error-background-image, linear-gradient(to bottom, #e4e2e2, #fff));
    border-top: var(--terra-application-notification-dialog-error-border-top, 7px solid #c8cacb);
  }

  .custom {
    background-image: var(--terra-application-notification-dialog-custom-background-image, linear-gradient(to bottom, #e4e2e2, #fff));
    border-top: var(--terra-application-notification-dialog-custom-border-top, 7px solid #c8cacb);
  }

  .header {
    box-shadow: var(--terra-application-notification-dialog-header-box-shadow, -16px 8px 5px 0 rgba(255, 255, 255, 0.5), -16px 2px 2px 0 rgba(255, 255, 255, 0.75));
    flex: 0 0 auto;
    padding: var(--terra-application-notification-dialog-header-padding, 0 1.42857rem); // left and right padding
    z-index: 1;
  }
  
  .header-content {
    border-bottom: var(--terra-application-notification-dialog-header-content-border-bottom, 1px solid #dedfe0);
    display: flex;
    flex-direction: row;
    padding: var(--terra-application-notification-dialog-header-content-padding, 1.21428rem 0 0.5rem); // top and bottom padding to squish border bottom
    text-align: left;
    width: 100%;
  }

  .header-container {
    flex-shrink: 1;
    margin-left: var(--terra-application-notification-dialog-header-container-margin-left, 0.5rem);
  }

  .signal-word {
    color: var(--terra-application-notification-dialog-signal-word-color, #1c1f21);
    font-size: var(--terra-application-notification-dialog-signal-word-font-size, 1.42857rem);
    font-weight: bold;
    letter-spacing: -0.018rem;
    line-height: 1.15;
    min-height: var(--terra-application-notification-dialog-signal-word-min-height, 1.64285rem);
  }

  .title {
    color: var(--terra-application-notification-dialog-title-color, #262626);
    font-size: var(--terra-application-notification-dialog-title-font-size, 1.2857rem);
    font-weight: var(--terra-application-notification-dialog-title-font-weight, normal);
    letter-spacing: -0.018rem;
    line-height: 1.16667;
    margin: var(--terra-application-notification-dialog-title-margin, 0);
    min-height: var(--terra-application-notification-dialog-title-min-height, 1.5rem);
    width: 100%;
    word-wrap: break-word;
  }

  .body {
    background-color: var(--terra-application-notification-dialog-body-background-color, transparent);
    flex: 1 1 auto;
    height: 100%;
    min-height: 0;
    overflow: auto;
    padding: var(--terra-application-notification-dialog-body-padding, 0 1.64285rem);
    width: 100%;

    &:focus {
      outline: none;
    }

    @media screen and (min-height: 15.5rem) {
      min-height: var(--terra-application-notification-dialog-body-media-small-min-height, 4.5rem);
      padding: var(--terra-application-notification-dialog-body-media-small-padding, 0.85714rem 1.64285rem 1.07142rem);
    }

    @media screen and (min-height: 31rem) {
      min-height: var(--terra-application-notification-dialog-body-media-large-min-height, 7rem);
    }
  }

  .message {
    color: var(--terra-application-notification-dialog-message-color, #383f42);
    font-size: var(--terra-application-notification-dialog-message-font-size, 1rem);
    letter-spacing: 0.007rem;
    line-height: 1.42857;
    padding: var(--terra-application-notification-dialog-message-padding, 0.35714rem 0);
    text-align: var(--terra-application-notification-dialog-message-text-align, left);
    width: 100%;
    word-wrap: break-word;
  }

  .footer {
    background-color: var(--terra-application-notification-dialog-footer-background-color, #f9f9f9);
    border-top: var(--terra-application-notification-dialog-footer-border-top, 1px solid #dedfe0);
    box-shadow: var(--terra-application-notification-dialog-footer-box-shadow, -16px -9px 5px 0 rgba(255, 255, 255, 0.5), -16px -3px 3px 0 rgba(255, 255, 255, 0.75));
    flex: 0 0 auto;
    min-height: var(--terra-application-notification-dialog-footer-min-height, 0.71428rem);
    z-index: 1;
  }

  .actions {
    display: flex;
    flex-direction: row;
    justify-content: flex-end;
    padding: var(--terra-application-notification-dialog-actions-padding, 0.64285rem 0.71428rem);

    // stylelint-disable-next-line selector-max-compound-selectors
    > button + button {
      margin-left: var(--terra-application-notification-dialog-actions-button-margin-left, 0.71428rem);
    }
  }
}
